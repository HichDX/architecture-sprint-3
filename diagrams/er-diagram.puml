@startuml
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Component.puml


class User{
    * Id int PK
    * login string  
    * password Hash 
    + date_add DateTime 
    + time_modif DateTime 
}

class Role{
   * id int PK 
   * name_role string 
     + date_add DateTime 
     + time_modif DateTime 
}

class RoleUser{
   * id int PK 
   * user_id int FK
   * role_id int FK
}


class House{
    * id int PK
    * address string  
    + user_id int FK 
    + date_add DateTime  
    + time_modif DateTime  
}


class Device{
    * id Int PK
    * device_name String
    + device_type_id int FK
    + house_id int FK 
    + status Bool 
    + date_add DateTime 
    + time_modif DateTime 
}

class telemetry{
    * id Int PK
    + device_id INT FK
    + value float
    + time_modif DateTime 
}

class DeviceType{
    * id int PK
    + type_name string 
}

User ||--o{ House : "Имеет"
Role ||--o{ RoleUser: "Имеет"
User ||--o{ RoleUser: "Имеет"
House||--o{ Device: "Имеет"
DeviceType ||--o{ Device: "Имеет"
Device||--o{ telemetry: "Имеет"
@enduml